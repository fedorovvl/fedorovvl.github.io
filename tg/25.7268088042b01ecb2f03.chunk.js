"use strict";(this.webpackChunktweb=this.webpackChunktweb||[]).push([[25,339],{4494:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(2325),n=i(1405);const r=(e,t={})=>{const i=document.createElement(t.asDiv?"div":"button");return i.className=e+(t.icon?" tgico-"+t.icon:""),t.noRipple||(t.rippleSquare&&i.classList.add("rp-square"),(0,n.Z)(i)),t.onlyMobile&&i.classList.add("only-handhelds"),t.disabled&&i.setAttribute("disabled","true"),t.text&&i.append((0,s.ag)(t.text)),i}},279:(e,t,i)=>{function s(e,t=!1){const i='\n  <svg xmlns="http://www.w3.org/2000/svg" class="preloader-circular" viewBox="25 25 50 50">\n  <circle class="preloader-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/>\n  </svg>';if(t){const t=document.createElement("div");return t.classList.add("preloader"),t.innerHTML=i,e&&e.appendChild(t),t}return e.insertAdjacentHTML("beforeend",i),e.lastElementChild}function n(e,t="check"){return e.classList.remove("tgico-"+t),e.disabled=!0,s(e),()=>{e.innerHTML="",e.classList.add("tgico-"+t),e.removeAttribute("disabled")}}i.d(t,{p:()=>n,y:()=>s}),i(410).GO.putPreloader=s},1405:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(8497),n=i(9674),r=i(5432),o=i(3512),a=i(5975);let l=0;function c(e,t=(()=>Promise.resolve()),i=null,c=!1,d=e){if(e.querySelector(".c-ripple"))return;e.classList.add("rp");let h,p=document.createElement("div");p.classList.add("c-ripple"),e.classList.contains("rp-square")&&p.classList.add("is-square"),e[c?"prepend":"append"](p);const u=(e,s)=>{const o=Date.now(),a=document.createElement("div"),c=l++,d=1e3*+window.getComputedStyle(p).getPropertyValue("--ripple-duration").replace("s","");h=()=>{let e=Date.now()-o;const t=()=>{n.Z.mutate((()=>{a.remove()})),i&&i(c)};if(e<d){let i=Math.max(d-e,d/2);setTimeout((()=>a.classList.add("hiding")),Math.max(i-d/2,0)),setTimeout(t,i)}else a.classList.add("hiding"),setTimeout(t,d/2);r.Z||window.removeEventListener("contextmenu",h),h=null,v=!1},t&&t(c),window.requestAnimationFrame((()=>{const t=p.getBoundingClientRect();a.classList.add("c-ripple__circle");const i=e-t.left,n=s-t.top,r=Math.sqrt(Math.pow(Math.abs(n-t.height/2)+t.height/2,2)+Math.pow(Math.abs(i-t.width/2)+t.width/2,2)),o=i-r/2,l=n-r/2;a.style.width=a.style.height=r+"px",a.style.left=o+"px",a.style.top=l+"px",p.append(a)}))},m=t=>t.target!==e&&(["BUTTON","A"].includes(t.target.tagName)||(0,s.Z)(t.target,"c-ripple")!==p)&&(d===e||!(0,a.Z)(t.target,d));let v=!1;if(r.Z){let e=()=>{h&&h()};d.addEventListener("touchstart",(t=>{if(!o.Z.settings.animationsEnabled)return;if(t.touches.length>1||v||m(t))return;v=!0;let{clientX:i,clientY:s}=t.touches[0];u(i,s),d.addEventListener("touchend",e,{once:!0}),window.addEventListener("touchmove",(t=>{t.cancelBubble=!0,t.stopPropagation(),e(),d.removeEventListener("touchend",e)}),{once:!0})}),{passive:!0})}else d.addEventListener("mousedown",(e=>{if(![0,2].includes(e.button))return;if(!o.Z.settings.animationsEnabled)return;if("0"===d.dataset.ripple||m(e))return;if(v)return void(v=!1);let{clientX:t,clientY:i}=e;u(t,i),window.addEventListener("mouseup",h,{once:!0,passive:!0}),window.addEventListener("contextmenu",h,{once:!0,passive:!0})}),{passive:!0})}},8805:(e,t,i)=>{i.d(t,{ZP:()=>c,v7:()=>d});var s=i(5432),n=i(5003),r=i(4789),o=i(8594),a=i(3910);class l{constructor(e,t="",i=document.createElement("div")){this.el=e,this.container=i,this.onScrollMeasure=0,this.lastScrollPosition=0,this.lastScrollDirection=0,this.isHeavyAnimationInProgress=!1,this.needCheckAfterAnimation=!1,this.onScroll=()=>{if(this.isHeavyAnimationInProgress)return this.cancelMeasure(),void(this.needCheckAfterAnimation=!0);(this.onScrolledTop||this.onScrolledBottom||this.splitUp||this.onAdditionalScroll)&&(this.onScrollMeasure||(this.onScrollMeasure=window.setTimeout((()=>{this.onScrollMeasure=0;const e=this.container[this.scrollProperty];this.lastScrollDirection=this.lastScrollPosition===e?0:this.lastScrollPosition<e?1:-1,this.lastScrollPosition=e,this.onAdditionalScroll&&this.onAdditionalScroll(),this.checkForTriggers&&this.checkForTriggers()}),200)))},this.container.classList.add("scrollable"),this.log=(0,n.kg)("SCROLL"+(t?"-"+t:""),n.v9.Error),e&&(Array.from(e.children).forEach((e=>this.container.append(e))),e.append(this.container))}addScrollListener(){this.addedScrollListener||(this.addedScrollListener=!0,this.container.addEventListener("scroll",this.onScroll,{passive:!0,capture:!0}))}removeScrollListener(){this.addedScrollListener&&(this.addedScrollListener=!1,this.container.removeEventListener("scroll",this.onScroll,{capture:!0}))}setListeners(){this.removeHeavyAnimationListener||(window.addEventListener("resize",this.onScroll,{passive:!0}),this.addScrollListener(),this.removeHeavyAnimationListener=(0,o.ZP)((()=>{this.isHeavyAnimationInProgress=!0,this.onScrollMeasure&&(this.cancelMeasure(),this.needCheckAfterAnimation=!0)}),(()=>{this.isHeavyAnimationInProgress=!1,this.needCheckAfterAnimation&&(this.onScroll(),this.needCheckAfterAnimation=!1)})))}removeListeners(){this.removeHeavyAnimationListener&&(window.removeEventListener("resize",this.onScroll),this.removeScrollListener(),this.removeHeavyAnimationListener(),this.removeHeavyAnimationListener=void 0)}destroy(){this.removeListeners(),this.onAdditionalScroll=void 0,this.onScrolledTop=void 0,this.onScrolledBottom=void 0}append(e){this.container.append(e)}scrollIntoViewNew(e){return(0,r.Z)(Object.assign(Object.assign({},e),{container:this.container}))}cancelMeasure(){this.onScrollMeasure&&(clearTimeout(this.onScrollMeasure),this.onScrollMeasure=0)}}class c extends l{constructor(e,t="",i=300,s){super(e,t),this.onScrollOffset=i,this.loadedAll={top:!0,bottom:!1},this.checkForTriggers=()=>{if(!this.onScrolledTop&&!this.onScrolledBottom)return;if(this.isHeavyAnimationInProgress)return void this.onScroll();const e=this.container.scrollHeight;if(!e)return;const t=e-this.container.clientHeight,i=this.lastScrollPosition;this.onScrolledTop&&i<=this.onScrollOffset&&this.lastScrollDirection<=0&&this.onScrolledTop(),this.onScrolledBottom&&t-i<=this.onScrollOffset&&this.lastScrollDirection>=0&&this.onScrolledBottom()},this.container.classList.add("scrollable-y"),this.setListeners(),this.scrollProperty="scrollTop"}setVirtualContainer(e){this.splitUp=e,this.log("setVirtualContainer:",e,this)}prepend(...e){(this.splitUp||this.padding||this.container).prepend(...e)}append(...e){(this.splitUp||this.padding||this.container).append(...e)}getDistanceToEnd(){return this.scrollHeight-Math.round(this.scrollTop+this.container.offsetHeight)}get isScrolledDown(){return this.getDistanceToEnd()<=1}set scrollTop(e){this.container.scrollTop=e}get scrollTop(){return this.container.scrollTop}setScrollTopSilently(e){this.lastScrollPosition=e,this.ignoreNextScrollEvent(),this.scrollTop=e}ignoreNextScrollEvent(){this.removeHeavyAnimationListener&&(this.removeScrollListener(),this.container.addEventListener("scroll",(e=>{(0,a.Z)(e),this.addScrollListener()}),{capture:!0,passive:!1,once:!0}))}get scrollHeight(){return this.container.scrollHeight}}class d extends l{constructor(e,t="",i=300,n=15,r=document.createElement("div")){if(super(e,t,r),this.onScrollOffset=i,this.splitCount=n,this.container=r,this.container.classList.add("scrollable-x"),!s.Z){const e=e=>{!e.deltaX&&this.container.scrollWidth>this.container.clientWidth&&(this.container.scrollLeft+=e.deltaY/4,(0,a.Z)(e))};this.container.addEventListener("wheel",e,{passive:!1})}this.scrollProperty="scrollLeft"}}},9674:(e,t,i)=>{i.d(t,{Z:()=>l});var s=i(3035),n=i(3725),r=i(410),o=i(8487);const a=new class{constructor(){this.promises={},this.raf=s.T2.bind(null),this.scheduled=!1}do(e,t){let i=this.promises[e];return i||(this.scheduleFlush(),i=this.promises[e]=(0,n.Z)()),void 0!==t&&i.then((()=>t())),i}measure(e){return this.do("read",e)}mutate(e){return this.do("write",e)}mutateElement(e,t){const i=(0,o.Z)(e),s=i?this.mutate():Promise.resolve();return void 0!==t&&(i?t():s.then((()=>t()))),s}scheduleFlush(){this.scheduled||(this.scheduled=!0,this.raf((()=>{this.promises.read&&this.promises.read.resolve(),this.promises.write&&this.promises.write.resolve(),this.scheduled=!1,this.promises={}})))}};r.GO&&(r.GO.sequentialDom=a);const l=a},2582:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(2325);class n{constructor(e){this.element=document.body.querySelector("."+e.className),this.container=document.createElement("div"),this.container.className="container center-align",this.imageDiv=document.createElement("div"),this.imageDiv.className="auth-image",this.title=document.createElement("h4"),e.titleLangKey&&this.title.append((0,s.ag)(e.titleLangKey)),this.subtitle=document.createElement("p"),this.subtitle.className="subtitle",e.subtitleLangKey&&this.subtitle.append((0,s.ag)(e.subtitleLangKey)),this.container.append(this.imageDiv,this.title,this.subtitle),e.withInputWrapper&&(this.inputWrapper=document.createElement("div"),this.inputWrapper.className="input-wrapper",this.container.append(this.inputWrapper)),this.element.append(this.container)}}},8339:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var s=i(4494),n=i(503),r=i(279),o=i(6765),a=i(2325),l=i(2582),c=i(4874),d=i(8799),h=i(5565),p=i(1168),u=i(8115),m=i(3512);let v=null;const g=new c.Z("page-signUp",!0,(()=>{const e=new l.Z({className:"page-signUp",withInputWrapper:!0,titleLangKey:"YourName",subtitleLangKey:"Login.Register.Subtitle"});e.imageDiv.classList.add("avatar-edit"),e.title.classList.add("fullName");const t=document.createElement("canvas");t.id="canvas-avatar",t.className="avatar-edit-canvas";const c=document.createElement("span");let g;c.className="tgico tgico-cameraadd",e.imageDiv.append(t,c),e.imageDiv.addEventListener("click",(()=>{p.Z.createPopup(o.Z).open(t,(e=>{g=e}))}));const L=t=>{const i=S.value||"",s=w.value||"",n=i||s?(i+" "+s).trim():"";n?(0,h.Z)(e.title,(0,u.Z)(n)):(0,h.Z)(e.title,(0,a.ag)("YourName"))},S=new n.Z({label:"FirstName",maxLength:70}),w=new n.Z({label:"LastName",maxLength:64}),f=(0,s.Z)("btn-primary btn-color-primary"),b=new a.ZP.IntlElement({key:"StartMessaging"});return f.append(b.element),e.inputWrapper.append(S.container,w.container,f),S.input.addEventListener("input",L),w.input.addEventListener("input",L),f.addEventListener("click",(function(e){if(S.input.classList.contains("error")||w.input.classList.contains("error"))return!1;if(!S.value.length)return S.input.classList.add("error"),!1;this.disabled=!0;const t=S.value.trim(),s=w.value.trim(),n={phone_number:v.phone_number,phone_code_hash:v.phone_code_hash,first_name:t,last_name:s};b.update({key:"PleaseWait"});const o=(0,r.y)(this);m.Z.managers.apiManager.invokeApi("auth.signUp",n).then((e=>{"auth.authorization"===e._?(m.Z.managers.apiManager.setUser(e.user),new Promise(((e,t)=>{if(!g)return e();g().then((i=>{m.Z.managers.appProfileManager.uploadProfilePhoto(i).then(e,t)}),t)})).finally((()=>{i.e(781).then(i.bind(i,5436)).then((e=>{e.default.mount()}))}))):(b.update({key:e._}),this.removeAttribute("disabled"),o.remove())})).catch((e=>{this.removeAttribute("disabled"),o.remove(),e.type,b.update({key:e.type})}))})),(0,d.Z)(),new Promise((e=>{window.requestAnimationFrame(e)}))}),(e=>{v=e,m.Z.managers.appStateManager.pushToState("authState",{_:"authStateSignUp",authCode:e})}))}}]);
//# sourceMappingURL=25.7268088042b01ecb2f03.chunk.js.map